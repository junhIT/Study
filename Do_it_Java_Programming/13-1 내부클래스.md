[TOC]

> μμ  : class13.innerclass;

# λ‚΄λ¶€ν΄λμ¤ μ •μμ™€ μ ν•

- λ‚΄λ¶€ν΄λμ¤
  - ν΄λμ¤ λ‚΄λ¶€μ— μ„ μ–Έν• ν΄λμ¤

```java
class ABC {					// μ™Έλ¶€ ν΄λμ¤
	class In {				// μΈμ¤ν„΄μ¤ λ‚΄λ¶€ ν΄λμ¤
		static class SIn {	// μ •μ  λ‚΄λ¶€ ν΄λμ¤
		}
	}
	public void abc() {
		class Local {		// μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤
		
		}
	}
}
```



## μΈμ¤ν„΄μ¤ λ‚΄λ¶€ ν΄λμ¤(instance inner class)

- μΈμ¤ν„΄μ¤ λ³€μλ¥Ό μ„ μ–Έν•  λ•μ™€ κ°™μ€ μ„μΉμ— μ„ μ–Έν•λ©°, μ™Έλ¶€ ν΄λμ¤ λ‚΄λ¶€μ—μ„λ§ μƒμ„±ν•μ—¬ μ‚¬μ©ν•λ” κ°μ²΄λ¥Ό μ„ μ–Έν•  λ• μ‚¬μ©



- λ‹¤λ¥Έ μ™Έλ¶€ ν΄λμ¤μ—μ„ μ‚¬μ©ν•  μΌμ΄ μ—†λ” κ²½μ°
- μ™Έλ¶€ν΄λμ¤ μƒμ„± ν›„ μƒμ„±λ¨
  - μ™Έλ¶€ν΄λμ¤λ¥Ό λ¨Όμ € μƒμ„±ν•μ§€ μ•κ³  μΈμ¤ν„΄μ¤ λ‚΄λ¶€ν΄λμ¤λ¥Ό μ‚¬μ©ν•  μλ” μ—†μ



β μΈμ¤ν„΄μ¤ λ‚΄λ¶€ ν΄λμ¤λ” μ™Έλ¶€ ν΄λμ¤λ¥Ό μƒμ„ ν• μ΄ν›„μ— μ‚¬μ©ν•κΈ° λ•λ¬Έμ—, ν΄λμ¤μ μƒμ„±κ³Ό μƒκ΄€μ—†μ΄ μ‚¬μ©ν•  μ μλ” μ •μ  λ³€μλ” μΈμ¤ν„΄μ¤ λ‚΄λ¶€ ν΄λμ¤μ—μ„ μ„ μ–Έν•  μ μ—†λ‹¤.



## μ •μ  λ‚΄λ¶€ ν΄λμ¤(static inner class)

- λ‚΄λ¶€ν΄λμ¤κ°€ μ™Έλ¶€ν΄λμ¤μ μƒμ„±κ³Ό λ¬΄κ΄€ν•κ² μ‚¬μ© κ°€λ¥ν•λ©°, μ •μ  λ³€μλ„ μ‚¬μ©ν•  μ μμ–΄μ•Ό ν•  κ²½μ°

- μ™Έλ¶€ ν΄λμ¤μ λ©¤λ²„ λ³€μμ™€ κ°™μ€ μ„μΉμ— μ •μν•λ©° static μμ•½μ–΄λ¥Ό ν•¨κ» μ‚¬μ©

  π‘ μ •μ  λ‚΄λ¶€ ν΄λμ¤μ λ³€μ μ‚¬μ© κ°€λ¥ μ—¬λ¶€

| μ •μ  λ‚΄λ¶€ ν΄λμ¤ λ©”μ„λ“ | λ³€μ μ ν•                        | μ‚¬μ© κ°€λ¥ μ—¬λ¶€ |
| ----------------------- | -------------------------------- | -------------- |
| μΌλ° λ©”μ„λ“             | μ™Έλ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ      | X              |
|                         | μ™Έλ¶€ ν΄λμ¤μ μ •μ  λ³€μ          | O              |
|                         | μ •μ  λ‚΄λ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ | O              |
|                         | μ •μ  λ‚΄λ¶€ ν΄λμ¤μ μ •μ  λ³€μ     | O              |
| μ •μ  λ©”μ„λ“             | μ™Έλ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ      | X              |
|                         | μ™Έλ¶€ ν΄λμ¤μ μ •μ  λ³€μ          | O              |
|                         | μ •μ  λ‚΄λ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ | X              |
|                         | μ •μ  λ‚΄λ¶€ ν΄λμ¤μ μ •μ  λ³€μ     | O              |



### λ‹¤λ¥Έ ν΄λμ¤μ—μ„ μ •μ  λ‚΄λ¶€ ν΄λμ¤ μ‚¬μ©ν•κΈ°

- μ •μ  λ‚΄λ¶€ ν΄λμ¤λ” μ™Έλ¶€ ν΄λμ¤λ¥Ό μƒμ„±ν•μ§€ μ•κ³ λ„ λ‚΄λ¶€ ν΄λμ¤ μλ£ν•μΌλ΅ λ°”λ΅ μ„ μ–Έ κ°€λ¥

```java
OutClass.InStaticClass sInClass = new OutClass.InStaticClass();
```

- μ •μ  λ‚΄λ¶€ ν΄λμ¤μ— μ„ μ–Έν•(μ •μ  λ©”μ„λ“ ν¬ν•¨)λ‚ λ³€μλ” privateμ΄ μ•„λ‹ κ²½μ°μ— λ‹¤λ¥Έ ν΄λμ¤μ—μ„ λ°”λ΅ μ‚¬μ© κ°€λ¥

```java
OutClass.InstaticClass.sTest()	
```





# μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤

- μ§€μ—­ λ³€μμ²λΌ λ©”μ„λ“ λ‚΄λ¶€μ— ν΄λμ¤λ¥Ό μ •μν•μ—¬ μ‚¬μ©
- λ©”μ„λ“ μ•μ—μ„λ§ μ‚¬μ© κ°€λ¥



- Runnable μΈν„°νμ΄μ¤
  - μλ°”μ—μ„ μ¤λ λ“λ¥Ό λ§λ“¤ λ• μ‚¬μ©ν•λ” μΈν„°νμ΄μ¤
  - λ°λ“μ‹ run() λ©”μ„λ“λ¥Ό κµ¬ν„ν•¨



```java
class Outer{
	int outNum = 100;
	static int sNum = 200;
	
	Runnable getRunnable(int i) {	
		int num = 100;							// μ§€μ—­ λ³€μ
		
		class MyRunnable implements Runnable {	// μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤
			int localNum = 10;					// μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤μ μΈμ¤ν„΄μ¤ λ³€μ

			@Override
			public void run() {
				// num = 200;	// μ§€μ—­ λ³€μλ” μƒμλ΅ λ°”λ€λ―€λ΅ κ°’μ„ λ³€κ²½ν•  μ μ—†μ–΄ μ¤λ¥ λ°μƒ
				// i = 100;		// λ§¤κ°λ³€μλ„ μ§€μ—­ λ³€μμ²λΌ μƒμλ΅ λ°”λ€λ―€λ΅ κ°’μ„ λ³€κ²½ν•  μ μ—†μ–΄ μ¤λ¥ λ°μƒ
				System.out.println("i = " + i);
				System.out.println("num = " + num);
				System.out.println("localNum = " + localNum);
				System.out.println("outNum = " + outNum + "(μ™Έλ¶€ ν΄λμ¤ μΈμ¤ν„΄μ¤ λ³€μ)");
				System.out.println("Outer.sNum = " + Outer.sNum + "(μ™Έλ¶€ ν΄λμ¤ μ •μ  λ³€μ)");
			}
		}
		return new MyRunnable();
	}
}

public class LocalInnerTest {
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Outer out = new Outer();
		Runnable runner = out.getRunnable(10);	// λ©”μ„λ“ νΈμ¶ 
		runner.run();	// run()μ΄ μ‹¤ν–‰λλ©΄μ„ getRunnable() λ©”μ„λ“μ μ§€μ—­λ³€μκ°€ μ‚¬μ©λ¨
	}
}

--------------------------------------------------------------------------------------------------------------------------------
i = 10
num = 100
localNum = 10
outNum = 100(μ™Έλ¶€ ν΄λμ¤ μΈμ¤ν„΄μ¤ λ³€μ)
Outer.sNum = 200(μ™Έλ¶€ ν΄λμ¤ μ •μ  λ³€μ)
```

- μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤μ—μ„ μ‚¬μ©ν•λ” λ©”μ„λ“μ μ§€μ—­ λ³€μλ” λ¨λ‘ μƒμλ΅ λ°”λ€.

# μµλ… λ‚΄λ¶€ ν΄λμ¤

- ν΄λμ¤ μ΄λ¦„μ„ μ‚¬μ©ν•μ§€ μ•λ” ν΄λμ¤

β΅ μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤

```java
	Runnable getRunnable(int i) {	
		int num = 100;							// μ§€μ—­ λ³€μ
		
		class MyRunnable implements Runnable {	// μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤
			...
		}
		return new MyRunnable(); // μ§€μ—­ λ‚΄λ¶€ ν΄λμ¤ μ΄λ¦„μ€ ν΄λμ¤λ¥Ό μƒμ„±ν•μ—¬ λ°ν™ν•  λ•λ§ μ‚¬μ©ν•¨.
	}
```

β΅ μµλ… λ‚΄λ¶€ ν΄λμ¤ μμ 

```java
	// 1. MyRunnable ν΄λμ¤ μ΄λ¦„μ„ λΉΌκ³  ν΄λμ¤λ¥Ό λ°”λ΅ μƒμ„±ν•λ” λ°©λ²•
	Runnable getRunnable(int i) {	// μµλ… λ‚΄λ¶€ ν΄λμ¤, Runnable μΈν„°νμ΄μ¤ μƒμ„±
		return new Runnable() {
			@Override
			public void run() {
				System.out.println(i);
				System.out.println(num);
			}	
		};
	}
	
	// 2. μΈν„°νμ΄μ¤λ‚ μ¶”μƒ ν΄λμ¤ν• λ³€μλ¥Ό μ„ μ–Έν•κ³  ν΄λμ¤λ¥Ό μƒμ„±ν•΄ λ€μ…ν•λ” λ°©λ²•
	Runnable runner = new Runnable() {
		@Override
		public void run() {
			System.out.println("Runnableμ΄ κµ¬ν„λ μµλ… ν΄λμ¤ λ³€μ");
		}
	};
```











